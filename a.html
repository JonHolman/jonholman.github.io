<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Addition</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="/css/math.css">
<script type="text/javascript">
var number1;
var number2;
var enteredAnswer;
var answer;
var lastAnswerPlace=0;
var lastAnswer=0;
function problem(){
	do {
		number1 = Math.round( Math.random() * 20 );
		number2 = Math.round( Math.random() * 20 );
		answer = (number1 + number2);
	} while (answer == lastAnswer);
	document.getElementById("prompt").innerHTML = "" + number1 + " + " +     number2 + " :";
	lastAnswer = answer;
	fillButtons();
	placeCorrectAnswer();
}
function incorrect(id) {
	lastAnswerPlace = parseInt(id.replace('answerOption',''));
	var statusDiv = document.getElementById("status");
	statusDiv.innerHTML="Please try again.";
	fillButtons();
	placeCorrectAnswer();
}
function correct() {
	var statusDiv = document.getElementById("status");
	statusDiv.innerHTML="Very good!";
	document.getElementById("score").innerHTML = parseInt(document.getElementById("score").innerHTML)+1;
	problem();
}
function fillButtons(){
	var els = document.getElementsByClassName("answerButton");
	[].forEach.call(els, function (el) { 
		do {
			el.innerHTML=Math.floor( 1 + Math.random() * 40 ); 
		} while (parseInt(el.innerHTML) == answer);
		el.onclick  = function() {  incorrect(this.id); };
	})
}
function placeCorrectAnswer(){
	var randomNum=0;
	do {
		randomNum = Math.floor( 1 + Math.random() * 4 );
	} while (randomNum == lastAnswerPlace);
	lastAnswerPlace = randomNum;
	var el = document.getElementById("answerOption"+randomNum);
	el.innerHTML=answer; 
	el.onclick  = function() {  correct(); };
}
</script>
</head>
<body onload="problem();">
<form>
<div id="scoreboard">Score: <span id="score">0</span></div>
<div id ="prompt" style="height: 100px;"></div>
<!-- <input id="answer" type="text" />
<input type="button" value="Solve!" onclick="answer1()" /> -->
<div><p id ="status" style="height: 50px;">Click the correct answer to Solve the problem</p></div>
<div id ="options">
<a class='answerButton' id='answerOption1'></a>
<a class='answerButton' id='answerOption2'></a>
<a class='answerButton' id='answerOption3'></a>
<a class='answerButton' id='answerOption4'></a>
</div>
</form>
</body>
</html>
